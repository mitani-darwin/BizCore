<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title><%= content_for?(:title) ? yield(:title) : "管理コンソール" %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Optional: Tailwind カスタム設定 (色・フォントなど) -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              50:  "#e6f9fb",
              100: "#caf5f7",
              500: "#00bcd4",
              600: "#0097a7",
            },
          },
        },
      },
    };
  </script>
</head>

<body class="bg-slate-50 text-slate-900">
  <div class="flex min-h-screen">

    <!-- ===================================================== -->
    <!-- Sidebar -->
    <!-- ===================================================== -->
    <%= render "admin/shared/sidebar" %>

    <!-- ===================================================== -->
    <!-- Main content -->
    <!-- ===================================================== -->
    <div class="flex flex-1 flex-col bg-slate-50">

      <!-- Top Bar -->
      <%= render "admin/shared/topbar" %>

      <!-- Page Content -->
      <main class="flex-1 py-6">
        <div class="mx-auto flex w-full max-w-6xl flex-col gap-4 px-4">
          <% flash.each do |key, value| %>
            <% next if value.blank? %>
            <% tone = key.to_s == "alert" ? "rose" : "emerald" %>
            <div class="rounded-lg border border-<%= tone %>-200 bg-<%= tone %>-50 px-4 py-3 text-sm text-<%= tone %>-800">
              <%= value %>
            </div>
          <% end %>

          <%= yield %>
        </div>
      </main>

      <!-- Footer -->
      <footer class="border-t border-slate-200 bg-white py-3 text-center text-[11px] text-slate-400">
        © <%= Time.current.year %> darwin — Management Console
      </footer>

    </div>
  </div>
</body>
</html>
